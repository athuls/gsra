<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SenStore Server: Installing and running the server</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="index.html">SenStore Server Manual</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Installing and running the server </h1>  </div>
</div>
<div class="contents">
<ul>
<li><a class="el" href="a00002.html#server_prepare_sec">Preparing for the server installation</a><ul>
<li><a class="el" href="a00002.html#server_prepare_win_ssec">Installing the prerequisites on Windows</a></li>
<li><a class="el" href="a00002.html#server_prepare_linux_ssec">Installing the prerequisites on Linux</a></li>
</ul>
</li>
<li><a class="el" href="a00002.html#server_install_sec">Installing and configuring the server software</a></li>
<li><a class="el" href="a00002.html#server_init_ssec">Initializing the server database</a></li>
<li><a class="el" href="a00002.html#server_run_sec">Running the server</a></li>
<li><a class="el" href="a00002.html#server_stop_sec">Stopping the server</a></li>
</ul>
<p>The server runs on Windows and Linux, and may run on other platforms as well. Only Windows and Linux are documented here, but running on other UNIX flavors (such as MacOS X) should be very similar.</p>
<h2><a class="anchor" id="server_prepare_sec"></a>
Preparing for the server installation</h2>
<p>Any computer running a Python SenStore client needs the following external software packages:</p>
<ul>
<li>ZeroC Ice 3.3.1 or later (make sure to use a version that includes Python bindings)</li>
<li>Python 2.6.x</li>
<li>Optional: NumPy 1.3.x</li>
</ul>
<p>The SenStore server also needs the following external software packages:</p>
<ul>
<li>PostgreSQL 8.4 or later</li>
<li>PyGreSQL 4.0 or later, a Python interface to PostgreSQL, using the standard Python db-api.</li>
<li>NumPy 1.3.x</li>
<li>PyTables 2.1 or later</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>In Windows bzip2 in PyTables may conflict with the bzip2 in Ice. SC Solutions can provide a patched Windows installer for PyTables that does not have this conflict.</dd></dl>
<h3><a class="anchor" id="server_prepare_win_ssec"></a>
Installing the prerequisites on Windows</h3>
<ul>
<li>Install Python 2.6, NumPy and PyTables.</li>
<li>Install ZeroC Ice.</li>
<li>Add the ZeroC Ice bin directory to the PATH environment variable</li>
<li>Add the ZeroC Ice Python directory to the PYTHONPATH environment variable</li>
<li>Install the PostgreSQL database server.</li>
<li>Install PyGreSQL.</li>
<li>(Optional) Install PgAdmin, a nice GUI to browse/edit the PostgreSQL database.</li>
<li>Add the PostgreSQL bin directory to the PATH environment variable, so PyGreSQL can find and load the PostgreSQL DLLs it needs.</li>
</ul>
<h3><a class="anchor" id="server_prepare_linux_ssec"></a>
Installing the prerequisites on Linux</h3>
<p>SenStoreServer can also be installed on Linux, which has been tested on Ubuntu 10.04 LTS. Other Linux distributions may differ, for example in names of the required packages. Before installing SenStoreServer, make sure the following packages are installed:</p>
<ul>
<li><code>zeroc-ice33</code></li>
<li><code>postgresql</code></li>
<li><code>python-pygresql</code></li>
<li><code>python-tables</code></li>
</ul>
<p>Configure the PostgreSQL server to allow TCP access of the provided username with administrator privileges (this may already be the setup), and if needed set the password of the database user (typically <code>postgres</code>).</p>
<h2><a class="anchor" id="server_install_sec"></a>
Installing and configuring the server software</h2>
<ul>
<li>Unpack SenStoreServer-x.x.x.zip</li>
<li>Open a DOS box / command shell</li>
<li>Change to directory <code>SenStoreServer-x.x.x/senstore</code></li>
<li>Edit <code>config/server/SenStore.cfg</code> if needed Note that the PostgreSQL server must be configured to allow TCP access of the provided username with administrator priv.</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>The distributed Python source packages do not need to be installed using the included <code>setup-*.py</code> scripts. The easiest way to use them is to unpack the zip files, and run the corresponding scripts directly from the created directories. The setup scripts are provided for use by experts who want to install the software as administrator, and requires additional work.</dd></dl>
<h2><a class="anchor" id="server_init_ssec"></a>
Initializing the server database</h2>
<p>Now that the server is installed, the database can be initialized by running</p>
<p><code> &gt; python <a class="el" href="a00239.html" title="Database creation script.">scshm_create.py</a></code></p>
<p>The will erase any existing data, and create an empty PostgreSQL database. This command can only be used if the server is not running.</p>
<h2><a class="anchor" id="server_run_sec"></a>
Running the server</h2>
<p>To start the server, run</p>
<p><code> &gt; python <a class="el" href="a00241.html" title="Database server start script.">scshm_start.py</a></code></p>
<p>This command will not exit until the server is stopped.</p>
<h2><a class="anchor" id="server_stop_sec"></a>
Stopping the server</h2>
<p>The server can be stopped by hitting Ctrl-C, or sending a SIGINT to the process. The server will exit cleanly. </p>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Sep 7 2010 11:34:36 for SenStore Server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
